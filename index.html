<!DOCTYPE html>
<html lang="sv">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>B√§sta recepten</title>
    <meta name="theme-color" content="#1d3b2a" />
    <link rel="manifest" href="manifest.webmanifest" />
    <link rel="icon" href="icons/icon-192.png" sizes="192x192" />
    <link rel="apple-touch-icon" href="icons/icon-192.png" />
    <link rel="stylesheet" href="app.css" />
  </head>
  <body class="theme-morkgron">
    <div class="app">
      <!-- TOP -->
      <header class="topbar">
        <button class="burger" id="openDrawer" aria-label="Meny">
          <span></span>
        </button>
        <button id="goHomeBtn" class="btn small secondary" aria-label="Hem">
          üè† Hem
        </button>
        <div class="grow"></div>
        <button id="goAddBtn" class="btn">+ Nytt recept</button>
      </header>

      <!-- INNEH√ÖLL -->
      <main class="content">
        <!-- STARTSIDA / HERO -->
        <section id="homeIntro" class="hero">
          <h1>B√§sta recepten</h1>
          <p>Samla dina favoritrecept. Snabbt. Enkelt. Offline.</p>
          <button id="homeAddBtn" class="btn bigbtn">+ L√§gg till nytt</button>
        </section>

        <!-- SENASTE -->
        <section id="recentWrap" class="recent" aria-label="Senaste recept">
          <h2>Senaste recept</h2>
          <div id="recentCards" class="cards"></div>
        </section>

        <!-- S√ñK -->
        <div id="searchBar" class="searchbar" style="display: none">
          <input
            id="searchInput"
            type="text"
            placeholder="S√∂k titel, ingrediens eller tagg..."
          />
          <button id="searchBtn" class="btn small">S√∂k</button>
          <button id="searchClear" class="btn small secondary">Rensa</button>
        </div>

        <!-- KORTLISTA / A‚Äì√ñ -->
        <div id="empty" class="empty" style="display: none">
          Inga recept √§n. L√§gg till ditt f√∂rsta!
        </div>
        <div id="cards" class="cards"></div>
        <div id="alphaList" class="alpha"></div>

        <!-- VERKTYG UNDER RECEPTKORTEN -->
        <section id="toolsWrap" class="tools">
          <button id="exportBtn" class="btn small">Exportera</button>
          <button id="importBtn" class="btn small secondary">Importera</button>
          <input
            id="importFile"
            type="file"
            accept="application/json"
            style="display: none"
          />
          <p class="hint">Exportera/Importera alla recept (JSON).</p>
        </section>

        <!-- NYTT RECEPT (EGEN VY) -->
        <section id="addView" class="add-form" style="display: none">
          <div class="grid-2">
            <div>
              <label for="titleInput">Rubrik</label>
              <input
                id="titleInput"
                type="text"
                placeholder="T.ex. Kr√§mig kycklinggryta"
              />
            </div>
            <div>
              <label for="imageInput">Bilder</label>
              <input id="imageInput" type="file" accept="image/*" multiple />
            </div>
          </div>

          <div>
            <label>Kategori</label>
            <div id="catChips" class="chips"></div>
            <p class="hint">Tryck f√∂r att v√§lja en (en) kategori.</p>
          </div>

          <div class="grid-2">
            <div>
              <label for="ingTextarea">Ingredienser (en per rad)</label>
              <textarea
                id="ingTextarea"
                placeholder="- 3 dl gr√§dde&#10;- 600 g kyckling"
              ></textarea>
            </div>
            <div>
              <label for="instTextarea">Instruktioner</label>
              <textarea
                id="instTextarea"
                placeholder="Beskriv steg f√∂r steg..."
              ></textarea>
            </div>
          </div>

          <div class="grid-2">
            <div>
              <label for="tagInput">Taggar (komma-separerade)</label>
              <input
                id="tagInput"
                type="text"
                placeholder="snabbt, vardag, keto"
              />
            </div>
            <div>
              <label>&nbsp;</label><br />
              <button id="favToggle" class="chip">‚òÜ L√§gg som favorit</button>
            </div>
          </div>

          <div class="top-actions">
            <button id="saveBtn" class="btn">Spara recept</button>
            <button id="clearBtn" class="btn secondary">Rensa formul√§r</button>
          </div>
        </section>
      </main>

      <!-- DRAWER -->
      <aside id="drawer" class="drawer" aria-hidden="true">
        <div class="backdrop" data-close></div>
        <div class="panel">
          <h3>Meny</h3>

          <!-- Snabbl√§nkar -->
          <div id="catList" style="margin-bottom: 1rem"></div>

          <!-- Tema flyttat hit -->
          <div class="menu-section">
            <h4>Tema</h4>
            <select
              id="themeSel"
              class="select"
              aria-label="Tema"
              style="width: 100%"
            >
              <option value="theme-morkgron">M√∂rk gr√∂n</option>
              <option value="theme-klassisk">Klassisk</option>
              <option value="theme-pastell">Pastell</option>
            </select>
          </div>
        </div>
      </aside>

      <!-- DETALJVY -->
      <dialog id="detail">
        <div class="sheet">
          <div class="gallery">
            <img id="detailMain" class="gallery-main" alt="Receptbild" />
            <div id="detailThumbs" class="thumbs"></div>
          </div>
          <div class="sheet-body">
            <div class="meta">
              <span id="detailCat" class="pill">Kategori</span>
              <button id="detailFav" class="chip">‚òÜ Favorit</button>
            </div>

            <div class="section">
              <h2 id="detailTitle"></h2>
              <div id="detailTagsWrap" class="tagsline"></div>
            </div>

            <div id="detailIngsWrap" class="section">
              <h3>Ingredienser</h3>
              <ul id="detailIngs"></ul>
            </div>

            <div id="detailInstWrap" class="section">
              <h3>Instruktioner</h3>
              <p id="detailInst"></p>
            </div>

            <div class="closebar">
              <div class="top-actions">
                <button id="shareBtn" class="btn secondary">
                  Dela/Kopiera
                </button>
                <button id="printBtn" class="btn secondary">Skriv ut</button>
                <button id="openImage" class="btn secondary">√ñppna bild</button>
              </div>
              <div class="top-actions">
                <button id="deleteBtn" class="btn secondary danger">
                  Ta bort
                </button>
                <button id="closeDetail" class="btn">St√§ng</button>
              </div>
            </div>
          </div>
        </div>
      </dialog>
    </div>

    <script src="app.js"></script>
  </body>
</html>
